# FinancePro Backend - Variables de Entorno
# Copia este archivo como .env y configura los valores reales

# =============================================================================
# SEGURIDAD - OBLIGATORIO CONFIGURAR EN PRODUCCIÓN
# =============================================================================

# Clave secreta para JWT (mínimo 32 caracteres)
SECRET_KEY=your-super-secret-key-change-this-in-production-min-32-chars

# Clave de encriptación para datos PII (exactamente 32 caracteres)
ENCRYPTION_KEY=your-encryption-key-32-chars-long

# Configuración de tokens
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ALGORITHM=HS256

# =============================================================================
# BASE DE DATOS
# =============================================================================

# URL completa de PostgreSQL
DATABASE_URL=postgresql://postgres:password@db:5432/financepro

# Variables individuales de PostgreSQL (para Docker Compose)
POSTGRES_DB=financepro
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password

# =============================================================================
# REDIS
# =============================================================================

# URL de Redis para cache y sesiones
REDIS_URL=redis://redis:6379/0

# =============================================================================
# RABBITMQ - MENSAJERÍA ASÍNCRONA
# =============================================================================

# URL completa de RabbitMQ
RABBITMQ_URL=amqp://financepro:rabbitmq_password@rabbitmq:5672/financepro_vhost

# Variables individuales de RabbitMQ
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=financepro
RABBITMQ_PASSWORD=rabbitmq_password
RABBITMQ_VHOST=financepro_vhost

# =============================================================================
# MEILISEARCH - BÚSQUEDA DE TEXTO COMPLETO
# =============================================================================

# URL de Meilisearch
MEILISEARCH_URL=http://meilisearch:7700

# Clave maestra de Meilisearch (cambiar en producción)
MEILISEARCH_MASTER_KEY=meilisearch_dev_master_key

# Prefijo para índices
MEILISEARCH_INDEX_PREFIX=financepro

# =============================================================================
# CELERY - PROCESAMIENTO ASÍNCRONO
# =============================================================================

# URLs para Celery
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# =============================================================================
# CONFIGURACIÓN DEL SERVIDOR
# =============================================================================

# Información del proyecto
PROJECT_NAME=FinancePro API
VERSION=1.0.0
API_V1_STR=/api/v1

# Configuración del servidor
SERVER_HOST=0.0.0.0
SERVER_PORT=8000

# =============================================================================
# SEGURIDAD ADICIONAL
# =============================================================================

# Configuración de login
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30
PASSWORD_MIN_LENGTH=8
REQUIRE_2FA=true
SESSION_TIMEOUT_MINUTES=60

# Configuración de auditoría
ENABLE_AUDIT_LOG=true
AUDIT_LOG_RETENTION_DAYS=365

# Configuración de encriptación
ENCRYPT_PII_DATA=true
DATA_RETENTION_DAYS=2555

# =============================================================================
# BÚSQUEDA Y PROCESAMIENTO
# =============================================================================

# Configuración de búsqueda
ENABLE_FULL_TEXT_SEARCH=true
SEARCH_RESULTS_LIMIT=50
SEARCH_HIGHLIGHT=true

# Configuración de procesamiento asíncrono
ENABLE_ASYNC_PROCESSING=true

# Configuración de notificaciones
ENABLE_NOTIFICATIONS=true
EMAIL_NOTIFICATIONS=true
SMS_NOTIFICATIONS=false

# =============================================================================
# CORS Y HOSTS
# =============================================================================

# Orígenes permitidos para CORS (separados por comas)
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://frontend:80

# Hosts permitidos
ALLOWED_HOSTS=*

# =============================================================================
# EMAIL (OPCIONAL)
# =============================================================================

# Configuración SMTP
SMTP_TLS=true
SMTP_PORT=587
SMTP_HOST=smtp.gmail.com
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAILS_FROM_EMAIL=noreply@financepro.com
EMAILS_FROM_NAME=FinancePro

# =============================================================================
# ARCHIVOS Y UPLOADS
# =============================================================================

# Configuración de archivos
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=10485760

# =============================================================================
# LOGGING Y MONITOREO
# =============================================================================

# Nivel de logging
LOG_LEVEL=INFO

# Configuración de Sentry (opcional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
ENABLE_SENTRY=false

# =============================================================================
# RATE LIMITING
# =============================================================================

# Configuración de rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_LOGIN_ATTEMPTS=5
